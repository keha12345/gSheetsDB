# gSheetsDB üöÄ

**gSheetsDB** ‚Äî —ç—Ç–æ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π NoSQL –¥–≤–∏–∂–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –æ–±—ã—á–Ω—É—é Google –¢–∞–±–ª–∏—Ü—É –≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Å API, –æ—á–µ–Ω—å –ø–æ—Ö–æ–∂–∏–º –Ω–∞ **Mongoose**.

–ì–ª–∞–≤–Ω–∞—è —Ñ–∏—à–∫–∞: –≤–∞–º –Ω–µ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å SDK —á–µ—Ä–µ–∑ npm. –í—ã –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç–µ –∫–ª–∏–µ–Ω—Ç –ø—Ä—è–º–æ –∏–∑ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ–≥–æ –≤–∞–º–∏ API (—á–µ—Ä–µ–∑ ES Modules).

## üî• –ü–æ—á–µ–º—É —ç—Ç–æ –∫—Ä—É—Ç–æ?

* **Zero-Config Client**: –î—Ä–∞–π–≤–µ—Ä (`SheetDB`) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–Ω–∞–µ—Ç —Å–≤–æ–π URL.
* **Schema-less**: –¢–∞–±–ª–∏—Ü–∞ —Å–∞–º–∞ —Å–æ–∑–¥–∞–µ—Ç –ª–∏—Å—Ç—ã –∏ –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ –ª–µ—Ç—É, –∫–æ–≥–¥–∞ –≤—ã —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç–µ –Ω–æ–≤—ã–µ JSON-–æ–±—ä–µ–∫—Ç—ã.
* **Serverless**: –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ Google (–±–µ—Å–ø–ª–∞—Ç–Ω–æ).
* **No-CORS**: API –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ —Ç–∞–∫, —á—Ç–æ–±—ã –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Å –ª—é–±–æ–≥–æ –¥–æ–º–µ–Ω–∞.

---

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –î–µ–ø–ª–æ–π (–∑–∞ 2 –º–∏–Ω—É—Ç—ã)

1. **–°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É**: –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é [Google –¢–∞–±–ª–∏—Ü—É](https://sheets.new).
2. **–û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å–∫—Ä–∏–ø—Ç–æ–≤**: –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –º–µ–Ω—é `–†–∞—Å—à–∏—Ä–µ–Ω–∏—è` -> `Apps Script`.
3. **–í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥**: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `engine.js` –∏–∑ —ç—Ç–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –µ–≥–æ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä Google (–≤–º–µ—Å—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –∫–æ–¥–∞).
4. **–†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ API**:
* –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **–ù–∞—á–∞—Ç—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ** (Deploy) -> **–ù–æ–≤–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ** (New Deployment).
* –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø: **–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** (Web App).
* –û–ø–∏—Å–∞–Ω–∏–µ: `gSheetsDB API`.
* –ó–∞–ø—É—Å–∫ –æ—Ç –∏–º–µ–Ω–∏: **–í–∞—Å** (Me).
* –£ –∫–æ–≥–æ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø: **–í—Å–µ** (Anyone).


5. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL**: –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–æ–ø–∏—Ä—É–π—Ç–µ **URL –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**. –≠—Ç–æ –≤–∞—à –∫–ª—é—á –∫ –±–∞–∑–µ.

---

## üíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

–í–∞–º –Ω–µ –Ω—É–∂–Ω–æ –Ω–∏—á–µ–≥–æ –∫–∞—á–∞—Ç—å. –ü—Ä–æ—Å—Ç–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∫–ª–∞—Å—Å –ø—Ä—è–º–æ –∏–∑ –≤–∞—à–µ–≥–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ –≤ JS-—Ñ–∞–π–ª:

```javascript
import { SheetDB } from 'https://script.google.com/macros/s/–í–ê–®_ID/exec';

const db = new SheetDB(); // –ê–¥—Ä–µ—Å –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

```

### 2. –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –¥–∞–Ω–Ω—ã–º–∏

#### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ (Insert)

–ï—Å–ª–∏ –ª–∏—Å—Ç–∞ `players` –µ—â–µ –Ω–µ—Ç, –æ–Ω —Å–æ–∑–¥–∞—Å—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ö–æ–ª–æ–Ω–∫–∏ —Ç–∞–∫–∂–µ —Å–æ–∑–¥–∞–¥—É—Ç—Å—è —Å–∞–º–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–ª—é—á–µ–π –æ–±—ä–µ–∫—Ç–∞.

```javascript
const newPlayer = await db.collection('players').insertOne({
  name: "Ivan",
  phone: "79991234567",
  status: "active"
});

```

#### –ü–æ–∏—Å–∫ (Find)

```javascript
// –ù–∞–π—Ç–∏ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤
const players = await db.collection('players').find({ status: "active" });

// –ù–∞–π—Ç–∏ –æ–¥–Ω–æ–≥–æ –ø–æ ID
const player = await db.collection('players').findOne({ _id: "id_xyz123" });

```

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ (Update)

–û–±–Ω–æ–≤–∏—Ç –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã, –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –ø–æ–¥ —Ñ–∏–ª—å—Ç—Ä. –ï—Å–ª–∏ –≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –µ—Å—Ç—å –Ω–æ–≤–æ–µ –ø–æ–ª–µ ‚Äî –≤ —Ç–∞–±–ª–∏—Ü–µ –ø–æ—è–≤–∏—Ç—Å—è –Ω–æ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞.

```javascript
await db.collection('players').updateOne(
  { phone: "79991234567" },
  { status: "paid", amount: 500 }
);

```

#### –£–¥–∞–ª–µ–Ω–∏–µ (Delete)

```javascript
await db.collection('players').deleteMany({ status: "inactive" });

```

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Google Sheets

–í–∞—à–∞ —Ç–∞–±–ª–∏—Ü–∞ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —á–∏—Å—Ç–æ –∏ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω–æ:

* **–õ–∏—Å—Ç—ã** = –ö–æ–ª–ª–µ–∫—Ü–∏–∏ (Collections).
* **–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞** = –ó–∞–≥–æ–ª–æ–≤–∫–∏ (Keys).
* **–û—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏** = –î–æ–∫—É–º–µ–Ω—Ç—ã (Documents).
* **–ê–≤—Ç–æ-–ø–æ–ª—è**: –ö–∞–∂–¥—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç `_id` –∏ `createdAt`.

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –Ω—é–∞–Ω—Å—ã

* **–ö–≤–æ—Ç—ã Google**: Google –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —Å–∫—Ä–∏–ø—Ç–∞–º (–æ–±—ã—á–Ω–æ –¥–æ 20,000 –≤ –¥–µ–Ω—å), —á–µ–≥–æ –±–æ–ª–µ–µ —á–µ–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –º–∞–ª—ã—Ö –∏ —Å—Ä–µ–¥–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.
* **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ü—Ä–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏ "Anyone" –ª—é–±–æ–π, –∫—Ç–æ –∑–Ω–∞–µ—Ç –≤–∞—à URL, –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å –∏ –ø–∏—Å–∞—Ç—å –¥–∞–Ω–Ω—ã–µ. –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –≤–∞—à —Å–µ—Ä–≤–µ—Ä.

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

---
